<div class="row widget">
  <div class="col s12 m12">
    <div class="radius
      {% if data.page.shadow == true %}
        z-depth-1
      {% endif %}
    ">

      <div class="card z-depth-0" style="
          {% if piece.backColor%}
            background-color:{{ piece.backColor }}
          {% endif %}
        ">

        <div class="card-stacked">
          <div class="card-content" style="
              {% if piece.backColor%}
                background-color:{{ piece.backColor }}
              {% endif %}
            ">

            <table class="responsive-table">
              <thead>
                <tr>
                  {% for name in data.widget.tableHeaders %}
                    <th>{{ name.name }}</th>
                  {% endfor %}
                </tr>
              </thead>

              <tbody>
                {% for piece in data.widget._pieces %}
                  <tr>
                    {% for text in piece.tableObjects %}
                      {% if text.text %}
                        <th>{{ text.text }}</th>
                      {% endif %}
                      {% if text.date %}
                        <th>{{ text.date }}</th>
                      {% endif %}
                      {% if text._image %}
                        <th class="table-image">
                          <img
                            src="{{ apos.attachments.url(text._image.attachment, { size: data.options.size or 'one-sixth' }) }}"
                            alt="{{ text._image.description or text._image.title }}"
                          >
                        </th>
                      {% endif %}
                    {% endfor %}
                  </tr>
                {% endfor %}
              </tbody>

            </table>

          </div>
        </div>

      </div>

    </div>
  </div>
</div>
