<div data-apos-ajax-append>

  {% for piece in data.pieces %}
    <div class="gallery">
      <div class="header">
        <a href="{{ piece._url }}">
          <h3 class="accent-color" style="
            {%- if piece.headerColor -%}
              color:{{ piece.headerColor }}
            {% endif %}
            {%- if piece.headerCenter -%}
              text-align: center;
            {% endif %}
          ">
            {{ piece.title }}
          </h3>
        </a>
      </div>
        <div class="images">
          {% for _image in piece._images %}

            <img src="{{ apos.attachments.url(_image.attachment, { size: data.options.size or 'one-third' }) }}"
              data-featherlight="{{ apos.attachments.url(_image.attachment, { size: data.options.size or 'full' }) }}"
              alt="{{ _image.description or _image.title }}" width="100%">
          {% endfor %}
        </div>
    </div>
  {% endfor %}
</div>

{% if data.currentPage < data.totalPages %}
  <a data-apos-ajax-infinite-scroll href="{{ data.url | build({ page: data.currentPage + 1, append: 1 }) }}">Load More...</a>
{% endif %}
