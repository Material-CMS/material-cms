{% extends "layout.html" %}

{# Main Block #}
{% block main %}

  {# Navigation #}
  {# n = Navigation Data, gets prepopulated by beforeInsert in apostrophe-pages #}
  {{ apos.area(data.page, 'navigationArea', {
    limit: 1,
    widgets: {
      'navigations': {
        addLabel: 'Add Navigation',
        editLabel: 'Change Navigation',
        controls: {
          movable: false,
          cloneable: false,
          removable: true,
          position: 'top-left'
        }
      }
    }
  }) }}

  {# Main Content #}
  <div class="main-content">

    <div class="pages-container">
      <div class="container">

        <div class="row">
          <div class="col s12 m12">
            <div class="radius
              {% if data.page.shadow %}
                z-depth-1
              {% endif %}
            ">

              <div class="card z-depth-0 {% if piece.blogOn == true %}blog{% else %}horizontal{% endif %}"
                  {% if piece.backColor%}
                    style="background-color:{{ piece.backColor }}"
                  {% endif %}
                >

                <div class="card-stacked">

                  <div class="card-content"
                    {% if piece.backColor%}
                      style="background-color:{{ piece.backColor }}"
                    {% endif %}
                  >

                    <table class="highlight responsive-table">

                      <thead>
                        <tr>
                          {% for text in data.page.tableHeaders %}
                            <th class="flow-text">{{ text.text }}</th>
                          {% endfor %}
                        </tr>
                      </thead>

                      {# Include Galleries with Ajax #}
                      <div data-apos-ajax-context="texts">
                        {% include "indexAjax.html" %}
                      </div>

                    </table>

                  </div>

                </div>

              </div>

            </div>
          </div>
        </div>

      </div>
    </div>

  </div>

  {# Footer #}
  {% if not data.page.hideFooter %}
    {{ apos.area(data.global, 'footerArea', {
      edit: false,
      widgets: {
        'footer': {
          addLabel: 'Add Footer',
          editLabel: 'Change Footer',
          controls: {
            movable: false,
            removable: true,
            position: 'top-left'
          }
        }
      }
    }) }}
  {% endif %}

  {# Contact Button #}
  {% if data.global.showContactButton and not data.page.hideContactButton %}
    {% include "btn-widgets:widget.html" %}
  {% endif %}

{% endblock %}
