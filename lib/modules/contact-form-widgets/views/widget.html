{% import "apostrophe-schemas:macros.html" as schemas %}
<div class="row widget">
  <div class="col s12">
    <form class="contact-form" data-contact-form>

      {# Inject Shemas #}
      {{ schemas.fields(data.schema, {
        tabs: false
      }) }}

      {% if data.global.privacy %}
        <a class="btn waves-effect waves-light modal-trigger" href="#modal-3">
          <i class="material-icons right">send</i>
          {% if data.global.contactFormSend %}
            {{ data.global.contactFormSend }}
          {% else %}
            Send
          {% endif %}
        </a>
        <div id="modal-3" class="modal modal-fixed-footer">
          <div class="modal-content text-darken-4">

            <h4>Privacy</h4>
            <iframe src="/modules/footer-widgets/privacy" width="100%" height="90%"></iframe >

          </div>
          <div class="modal-footer">
            <a href="#!" class="btn-flat modal-close waves-effect waves-red">Disagree</a>
            <button class="btn waves-effect waves-light" type="submit" name="action" tabindex="5">
              <i class="material-icons right">send</i>
              {% if data.global.contactFormSend %}
                {{ data.global.contactFormSend }}
              {% else %}
                Send
              {% endif %}
            </button>
          </div>
        </div>
      {% endif %}

      <div class="thank-you flow-text center-align" data-thank-you>

        {% if data.global.thankYouMessage.items[0] %}
          <h4>
            {{ apos.area(data.global, 'thankYouMessage', {
              edit: false,
              widgets: { 'apostrophe-rich-text': { } }
            }) }}
          </h4>
        {% else %}
          <h4>Thank You!</h4>
        {% endif %}

      </div>
    </form>
    <style>
      .input-field .prefix{
        color:{{ data.global.accentColor }};
      }
      .input-field .prefix.active {
        color:{{ data.global.accentColor }};
        -webkit-filter: brightness(50%);
        filter: brightness(50%);
      }
      .input-field input,
      .input-field textarea {
        border-bottom-color:{{ data.global.mainColor }} !important;
        box-shadow:0 1px 0 0 {{ data.global.mainColor }} !important;
      }
      .input-field input:focus,
      .input-field textarea:focus {
        border-bottom-color:{{ data.global.accentColor }} !important;
        box-shadow:0 1px 0 0 {{ data.global.accentColor }} !important;
        -webkit-filter: brightness(50%);
        filter: brightness(50%);
      }
      .input-field input + label,
      .input-field textarea + label {
        color:{{ data.global.mainColor }} !important;
      }
      .input-field input:focus + label,
      .input-field textarea:focus + label {
        color:{{ data.global.accentColor }} !important;
        -webkit-filter: brightness(50%);
        filter: brightness(50%);
      }
    </style>
  </div>
</div>
