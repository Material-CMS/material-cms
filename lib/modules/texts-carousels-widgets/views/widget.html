<div class="row widget">
  <div class="col s12 m12">
    <div class="radius
      {% if data.page.shadow == true %}
        z-depth-1
      {% endif %}
    ">

      <div class="card">
        <div class="card-stacked">
          <div class="card-content">
            {% if data.widget.title %}
              <h4 class="accent-color card-title" style="
                {% if data.widget.titleColor %}
                  color:{{ data.widget.titleColor }}
                {% endif %}
              ">
                {{ data.widget.title }}
              </h4>
            {% endif %}
          </div>
          <div class="card-content carousel carousel-slider" style="
            {% if piece.backColor%}
              background-color:{{ piece.backColor }}
            {% endif %}
          ">

            {% for piece in data.widget._pieces %}
              <div class="carousel-item z-depth-0" style="
                  {% if piece.backColor%}
                    background-color:{{ piece.backColor }}
                  {% endif %}
                ">

                  {% if piece.description.items[0] %}
                    {{ apos.area(piece, 'description', {
                      edit: false,
                      widgets: { 'apostrophe-rich-text': { } }
                    }) }}
                  {% endif %}
                </div>

            {% endfor %}

          </div>
        </div>
      </div>

    </div>
  </div>
</div>
<style>
  {% if data.widget.carouselHeight == 'small' %}
    .carousel {
      height: 15rem;
      perspective: 20rem;
    }
    .carousel-item {
      top: 50% !important;
    }
  {% endif %}
  {% if data.widget.carouselHeight == 'big' %}
    .carousel {
      height: 35rem;
      perspective: 40rem;
    }
  {% endif %}
</style>
