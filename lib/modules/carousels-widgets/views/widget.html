<div class="row margin">
  <div class="col s12 m12">
    <div class="radius
      {% if data.widget.shadowOn == true %}
        z-depth-1
      {% endif %}
    ">

      <div class="card z-depth-0" style="
          {%- if data.widget.backColor-%}
            background-color:{{ data.widget.backColor }}
          {% endif %}
        ">
        <div class="card-content">

          {%- if data.widget.title -%}
            <span class="card-title">
              <h5 class="accent-color" style="
                {%- if data.widget.titleColor -%}
                  color:{{ data.widget.titleColor }}
                {% endif %}
              ">
                {{ data.widget.title }}
              </h5>
            </span>
          {%- endif -%}

          <div class="carousel
            {% if data.widget.preferences == 'carouselSlideOn' %}
              carousel-slider
            {% endif %}
          ">
            {% for piece in data.widget._pieces %}

              <a class="carousel-item"
                {% if data.widget.carouselSlideSmaller and data.widget.preferences == 'carouselSlideOn' %}
                  style="width:90%;padding-left:8%;padding-right:8%;"
                {% endif %}

              >

                {%- if piece.titleOn -%}
                  <span class="card-title">
                    <h5 class="accent-color" style="
                      {%- if piece.titleColor -%}
                        color:{{ piece.titleColor }}
                      {% endif %}
                    ">
                      {{ piece.title }}
                    </h5>
                  </span>
                {%- endif -%}

                {{ apos.area(piece, 'carousel', {
                  edit: false,
                  widgets: {
                    'apostrophe-rich-text': { },
                    'card': { }
                  }
                }) }}

              </a>

            {% endfor %}

          </div>
        </div>

      </div>
    </div>
  </div>
</div>
