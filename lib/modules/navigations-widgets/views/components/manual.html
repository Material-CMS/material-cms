{% macro base(dataTarget, dropdown) %}

  {# Nav Items #}
  {% set piece = data.widget._pieces[0] %}
  {% for item in piece.linkArea.items %}
    <li
      {% if data.options.pageUrl == item._page._url %}
        class="active"
      {% endif %}
    >
      <a
        class="flow-text
          {% if item._subpages %}
            {{ dropdown }}
          {% endif %}"
        href="{{ item.url or item._page._url }}"
        {% if item._subpages %}
          data-target="{{ item._id }}-{{ dataTarget }}"
        {% endif %}
        {% if data.global.navTextColor %}
          style="color: {{ data.global.navTextColor }}"
        {% endif %}
      >
        {{ item.label or item._page.title }}

        {% if item._subpages %}
          <i class="material-icons left">arrow_drop_down</i>
        {% endif %}

      </a>

      {# Dropdown Desktop #}
      {% if item._subpages %}
        <ul id="{{ item._id }}-{{ dataTarget }}"
            class="dropdown-content nav-color
            {% if data.widget.navLightHover or data.global.navLightHover %} light-hover{% else %} dark-hover{% endif %}"
            {% if data.widget.navColor %}
              style="background-color: {{ data.widget.navColor }};"
            {% endif %}
        >
          {% for subpage in item._subpages %}
            <li>
              <a href="{{ subpage._url }}" class="accent-color flow-text anchor-jump anchor-scroll truncate"
                {% if data.global.navTextColor %}
                  style="color: {{ data.global.navTextColor }}"
                {% endif %}
              >
                {{ subpage.title }}
              </a>
            </li>
          {% endfor %}
        </ul>
      {% endif %}

    </li>

  {% endfor %}

{% endmacro %}
